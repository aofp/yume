appId: com.yurucode.app
productName: yurucode

directories:
  output: release
  buildResources: build

files:
  - dist/**/*
  - electron/**/*
  - server*.js
  - package.json
  - build/**/*
  - assets/**/*
  - node_modules/**/*
  - "!node_modules/**/test/**"
  - "!node_modules/**/tests/**"
  - "!node_modules/**/example/**"
  - "!node_modules/**/examples/**"
  - "!node_modules/**/*.md"

asar: false

win:
  target:
    - target: nsis
      arch:
        - x64
  icon: build/icon.ico
  legalTrademarks: ""
  verifyUpdateCodeSignature: false
  signAndEditExecutable: true
  signDlls: false
  artifactName: ${productName}-${version}-${arch}.${ext}
  requestedExecutionLevel: asInvoker

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  artifactName: yurucode-setup-${version}.exe
  uninstallDisplayName: yurucode
  allowElevation: true
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  installerHeaderIcon: build/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: yurucode
  perMachine: false
  unicode: true
  runAfterFinish: true
  deleteAppDataOnUninstall: false

afterPack: ./scripts/afterPack.js